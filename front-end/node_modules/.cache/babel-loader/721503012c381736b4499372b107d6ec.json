{"ast":null,"code":"import{csrfFetch}from\"./csrf\";/* ---------------------------- Action Types ----------------------- */const LOAD_ALL_SAVED_RESTAURANTS='/savedRestaurants/LOAD_ALL_SAVED_RESTAURANTS';const ADD_SAVED_RESTAURANT='/savedRestaurants/ADD_SAVED_RESTAURANT';const REMOVE_SAVED_RESTAURANT='/savedRestaurants/REMOVE_SAVED_RESTAURANT';const RESET_SAVED_RESTAURANTS='savedRestaurants/RESET_SAVED_RESTAURANTS';/* -------------------------- Action Creators ----------------------- */const loadAllSavedRestaurants=restaurants=>{return{type:LOAD_ALL_SAVED_RESTAURANTS,savedRestaurants:restaurants};};const addSavedRestaurant=restaurant=>{return{type:ADD_SAVED_RESTAURANT,savedRestaurant:restaurant};};const removeSavedRestaurant=restaurantId=>{return{type:REMOVE_SAVED_RESTAURANT,restaurantId:restaurantId};};export const resetSavedRestaurants=()=>{return{type:RESET_SAVED_RESTAURANTS};};/* ------------------------- Thunk Action Creators ------------------- */export const getAllSavedRestaurants=userId=>async dispatch=>{const response=await csrfFetch(`/api/users/${userId}/saved-restaurants`);if(response.ok){const restaurants=await response.json();dispatch(loadAllSavedRestaurants(restaurants));return restaurants;}};export const createSavedRestaurant=(userId,restaurantId)=>async dispatch=>{const response=await csrfFetch(`/api/users/${userId}/saved-restaurants/${restaurantId}`,{method:'POST'});if(response.ok){const restaurant=await response.json();dispatch(addSavedRestaurant(restaurant));return restaurant;}};export const deleteSavedRestaurant=(userId,restaurantId)=>async dispatch=>{const response=await csrfFetch(`/api/users/${userId}/saved-restaurants/${restaurantId}`,{method:'DELETE'});if(response.ok){const message=await response.json();dispatch(removeSavedRestaurant(restaurantId));return message;}};/* ------------------------------- Reducer --------------------------- */const initialState={};const savedRestaurantsReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;let newState={};switch(action.type){case LOAD_ALL_SAVED_RESTAURANTS:newState={...state};action.savedRestaurants.SavedRestaurants.forEach(restaurant=>{newState[restaurant.restaurant_id]=restaurant;});return newState;case ADD_SAVED_RESTAURANT:newState={...state};newState[action.savedRestaurant.restaurant_id]=action.savedRestaurant;return newState;case REMOVE_SAVED_RESTAURANT:newState={...state};delete newState[action.restaurantId];return newState;case RESET_SAVED_RESTAURANTS:newState={};return newState;default:return state;}};export default savedRestaurantsReducer;","map":{"version":3,"names":["csrfFetch","LOAD_ALL_SAVED_RESTAURANTS","ADD_SAVED_RESTAURANT","REMOVE_SAVED_RESTAURANT","RESET_SAVED_RESTAURANTS","loadAllSavedRestaurants","restaurants","type","savedRestaurants","addSavedRestaurant","restaurant","savedRestaurant","removeSavedRestaurant","restaurantId","resetSavedRestaurants","getAllSavedRestaurants","userId","dispatch","response","ok","json","createSavedRestaurant","method","deleteSavedRestaurant","message","initialState","savedRestaurantsReducer","state","arguments","length","undefined","action","newState","SavedRestaurants","forEach","restaurant_id"],"sources":["/Users/rohan/Desktop/team-project-2024849-sprinters/front-end/src/store/savedRestaurants.js"],"sourcesContent":["import { csrfFetch } from \"./csrf\";\n\n\n/* ---------------------------- Action Types ----------------------- */\n\nconst LOAD_ALL_SAVED_RESTAURANTS = '/savedRestaurants/LOAD_ALL_SAVED_RESTAURANTS'\nconst ADD_SAVED_RESTAURANT = '/savedRestaurants/ADD_SAVED_RESTAURANT'\nconst REMOVE_SAVED_RESTAURANT = '/savedRestaurants/REMOVE_SAVED_RESTAURANT'\nconst RESET_SAVED_RESTAURANTS = 'savedRestaurants/RESET_SAVED_RESTAURANTS'\n\n\n/* -------------------------- Action Creators ----------------------- */\n\nconst loadAllSavedRestaurants = (restaurants) => {\n    return {\n        type: LOAD_ALL_SAVED_RESTAURANTS,\n        savedRestaurants: restaurants\n    }\n}\n\nconst addSavedRestaurant = (restaurant) => {\n    return {\n        type: ADD_SAVED_RESTAURANT,\n        savedRestaurant: restaurant\n    }\n}\n\nconst removeSavedRestaurant = (restaurantId) => {\n    return {\n        type: REMOVE_SAVED_RESTAURANT,\n        restaurantId: restaurantId\n    }\n}\n\nexport const resetSavedRestaurants = () => {\n    return {\n        type: RESET_SAVED_RESTAURANTS\n    }\n}\n\n\n/* ------------------------- Thunk Action Creators ------------------- */\n\nexport const getAllSavedRestaurants = (userId) => async (dispatch) => {\n    const response = await csrfFetch(`/api/users/${userId}/saved-restaurants`);\n\n    if (response.ok) {\n        const restaurants = await response.json();\n        dispatch(loadAllSavedRestaurants(restaurants));\n        return restaurants;\n    }\n}\n\nexport const createSavedRestaurant = (userId, restaurantId) => async (dispatch) => {\n    const response = await csrfFetch(`/api/users/${userId}/saved-restaurants/${restaurantId}`, {\n        method: 'POST'\n    })\n\n    if (response.ok) {\n        const restaurant = await response.json();\n        dispatch(addSavedRestaurant(restaurant));\n        return restaurant;\n    }\n}\n\nexport const deleteSavedRestaurant = (userId, restaurantId) => async (dispatch) => {\n    const response = await csrfFetch(`/api/users/${userId}/saved-restaurants/${restaurantId}`, {\n        method: 'DELETE'\n    })\n\n    if (response.ok) {\n        const message = await response.json();\n        dispatch(removeSavedRestaurant(restaurantId));\n        return message;\n    }\n}\n\n\n/* ------------------------------- Reducer --------------------------- */\n\nconst initialState = {};\n\nconst savedRestaurantsReducer = (state = initialState, action) => {\n    let newState = {};\n\n    switch (action.type) {\n\n        case LOAD_ALL_SAVED_RESTAURANTS:\n            newState = { ...state };\n            action.savedRestaurants.SavedRestaurants.forEach(restaurant => {\n                newState[restaurant.restaurant_id] = restaurant\n            })\n            return newState;\n\n        case ADD_SAVED_RESTAURANT:\n            newState = { ...state };\n            newState[action.savedRestaurant.restaurant_id] = action.savedRestaurant;\n            return newState;\n\n        case REMOVE_SAVED_RESTAURANT:\n            newState = { ...state };\n            delete newState[action.restaurantId];\n            return newState;\n\n        case RESET_SAVED_RESTAURANTS:\n            newState = {};\n            return newState;\n\n        default:\n            return state;\n    }\n}\n\n\nexport default savedRestaurantsReducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}