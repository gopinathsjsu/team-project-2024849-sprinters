{"ast":null,"code":"export const refreshAccessToken=async()=>{const refreshToken=localStorage.getItem('restaurantRefreshToken');if(!refreshToken){window.location.href='/restaurant-manager/login';return false;}try{const response=await fetch('/api/refresh',{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${refreshToken}`}});const data=await response.json();if(response.ok){localStorage.setItem('restaurantAccessToken',data.access_token);return true;}else{localStorage.clear();window.location.href='/restaurant-manager/login';return false;}}catch{localStorage.clear();window.location.href='/restaurant-manager/login';return false;}};","map":{"version":3,"names":["refreshAccessToken","refreshToken","localStorage","getItem","window","location","href","response","fetch","method","headers","Authorization","data","json","ok","setItem","access_token","clear"],"sources":["/Users/rohan/Desktop/team-project-2024849-sprinters/front-end/src/components/RestaurantManager/authHelpers.js"],"sourcesContent":["\nexport const refreshAccessToken = async () => {\n    const refreshToken = localStorage.getItem('restaurantRefreshToken');\n\n    if (!refreshToken) {\n        window.location.href = '/restaurant-manager/login';\n        return false;\n    }\n\n    try {\n        const response = await fetch('/api/refresh', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${refreshToken}`\n            }\n        });\n        const data = await response.json();\n\n        if (response.ok) {\n            localStorage.setItem('restaurantAccessToken', data.access_token);\n            return true;\n        } else {\n            localStorage.clear();\n            window.location.href = '/restaurant-manager/login';\n            return false;\n        }\n    } catch {\n        localStorage.clear();\n        window.location.href = '/restaurant-manager/login';\n        return false;\n    }\n};\n"],"mappings":"AACA,MAAO,MAAM,CAAAA,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CAC1C,KAAM,CAAAC,YAAY,CAAGC,YAAY,CAACC,OAAO,CAAC,wBAAwB,CAAC,CAEnE,GAAI,CAACF,YAAY,CAAE,CACfG,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,2BAA2B,CAClD,MAAO,MAAK,CAChB,CAEA,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,cAAc,CAAE,CACzCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClCC,aAAa,CAAE,UAAUV,YAAY,EACzC,CACJ,CAAC,CAAC,CACF,KAAM,CAAAW,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAElC,GAAIN,QAAQ,CAACO,EAAE,CAAE,CACbZ,YAAY,CAACa,OAAO,CAAC,uBAAuB,CAAEH,IAAI,CAACI,YAAY,CAAC,CAChE,MAAO,KAAI,CACf,CAAC,IAAM,CACHd,YAAY,CAACe,KAAK,CAAC,CAAC,CACpBb,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,2BAA2B,CAClD,MAAO,MAAK,CAChB,CACJ,CAAE,KAAM,CACJJ,YAAY,CAACe,KAAK,CAAC,CAAC,CACpBb,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,2BAA2B,CAClD,MAAO,MAAK,CAChB,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}