{"ast":null,"code":"var _jsxFileName = \"/Users/rohan/Desktop/team-project-2024849-sprinters/front-end/src/components/Reviews/AddReview.js\",\n  _s = $RefreshSig$();\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { createReview } from \"../../store/reviews\";\nimport { getOneRestaurant } from \"../../store/restaurants\";\nimport downCaret from '../../icons/down-caret.ico';\nimport './AddReview.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddReviewForm({\n  restaurant,\n  setShowAddModal\n}) {\n  _s();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const sessionUser = useSelector(state => state.session.user);\n  const [review, setReview] = useState('');\n  const [rating, setRating] = useState(5);\n  const [validationErrors, setValidationErrors] = useState([]);\n  const submitHandler = async e => {\n    e.preventDefault();\n    const errors = [];\n    if (!review) errors.push(\"Please tell us about your experience\");\n    if (review.length > 500) errors.push(\"Review can not exceed 500 characters\");\n    if (!rating) errors.push(\"Please rate your experience\");\n    setValidationErrors(errors);\n    if (!errors.length) {\n      const reviewData = {\n        review: review,\n        rating: rating\n      };\n      await dispatch(createReview(reviewData, restaurant.id));\n      await dispatch(getOneRestaurant(restaurant.id));\n      setShowAddModal(false);\n      history.push(`/restaurants/${restaurant.id}`);\n    }\n  };\n  if (!sessionUser) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-review-form-outer-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-form-heading\",\n      children: [sessionUser.first_name, \", how was your experience at \", restaurant.name, \"?\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-review-form-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitHandler,\n        className: \"create-review-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-validation-errors\",\n          children: validationErrors.length > 0 && validationErrors.map(error => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: error\n          }, error, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-review-rating-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: downCaret,\n            className: \"create-review-down-caret\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: rating,\n            onChange: e => {\n              setValidationErrors([]);\n              setRating(e.target.value);\n            },\n            className: \"create-review-select red-star\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"5\",\n              children: \"\\u2605 \\u2605 \\u2605 \\u2605 \\u2605\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"4\",\n              children: \"\\u2605 \\u2605 \\u2605 \\u2605\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"3\",\n              children: \"\\u2605 \\u2605 \\u2605\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"\\u2605 \\u2605\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"\\u2605\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              onChange: e => {\n                setValidationErrors([]);\n                setReview(e.target.value);\n              },\n              value: review,\n              placeholder: \"Review\",\n              className: \"review-text-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review-submit-button-container\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: !!validationErrors.length,\n              className: \"submit-review-button\",\n              children: \"Submit Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(AddReviewForm, \"Dn2TBEEO3Nf8mCrxy0UnHmMbu8U=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n_c = AddReviewForm;\nexport default AddReviewForm;\nvar _c;\n$RefreshReg$(_c, \"AddReviewForm\");","map":{"version":3,"names":["useSelector","useDispatch","useState","useHistory","createReview","getOneRestaurant","downCaret","jsxDEV","_jsxDEV","AddReviewForm","restaurant","setShowAddModal","_s","dispatch","history","sessionUser","state","session","user","review","setReview","rating","setRating","validationErrors","setValidationErrors","submitHandler","e","preventDefault","errors","push","length","reviewData","id","className","children","first_name","name","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","map","error","src","alt","value","onChange","target","type","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/rohan/Desktop/team-project-2024849-sprinters/front-end/src/components/Reviews/AddReview.js"],"sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { createReview } from \"../../store/reviews\";\nimport { getOneRestaurant } from \"../../store/restaurants\";\nimport downCaret from '../../icons/down-caret.ico';\nimport './AddReview.css';\n\n\nfunction AddReviewForm({ restaurant, setShowAddModal }) {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const sessionUser = useSelector(state => state.session.user);\n\n    const [review, setReview] = useState('');\n    const [rating, setRating] = useState(5);\n    const [validationErrors, setValidationErrors] = useState([]);\n\n    const submitHandler = async (e) => {\n        e.preventDefault();\n        const errors = [];\n\n        if (!review) errors.push(\"Please tell us about your experience\");\n        if (review.length > 500) errors.push(\"Review can not exceed 500 characters\");\n        if (!rating) errors.push(\"Please rate your experience\");\n\n        setValidationErrors(errors);\n\n        if (!errors.length) {\n\n            const reviewData = {\n                review: review,\n                rating: rating\n            };\n\n            await dispatch(createReview(reviewData, restaurant.id));\n            await dispatch(getOneRestaurant(restaurant.id));\n            setShowAddModal(false);\n            history.push(`/restaurants/${restaurant.id}`);\n        }\n    }\n\n    if (!sessionUser) return null;\n\n\n    return (\n        <div className=\"add-review-form-outer-container\">\n            <div className=\"review-form-heading\">\n                {sessionUser.first_name}, how was your experience at {restaurant.name}?\n            </div>\n            <div className=\"create-review-form-container\">\n                <form onSubmit={submitHandler} className=\"create-review-form\">\n                    <div className=\"review-validation-errors\">\n                        {validationErrors.length > 0 &&\n                            validationErrors.map(error =>\n                                <div key={error}>{error}</div>\n                            )}\n                    </div>\n                    <div className=\"create-review-rating-container\">\n                        <img src={downCaret} className=\"create-review-down-caret\" alt=\"\"/>\n                        <select value={rating}\n                            onChange={e => {\n                                setValidationErrors([])\n                                setRating(e.target.value)\n                            }}\n                            className=\"create-review-select red-star\">\n                            <option value=\"5\">★ ★ ★ ★ ★</option>\n                            <option value=\"4\">★ ★ ★ ★</option>\n                            <option value=\"3\">★ ★ ★</option>\n                            <option value=\"2\">★ ★</option>\n                            <option value=\"1\">★</option>\n                        </select>\n                    </div>\n                    <div className=\"review-inputs\">\n                        <div>\n                            <textarea\n                                type=\"text\"\n                                onChange={e => {\n                                    setValidationErrors([]);\n                                    setReview(e.target.value)\n                                }}\n                                value={review}\n                                placeholder=\"Review\"\n                                className=\"review-text-input\" />\n                        </div>\n                        <div className=\"review-submit-button-container\">\n                            <button\n                                disabled={!!validationErrors.length}\n                                className=\"submit-review-button\">\n                                Submit Review\n                            </button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\n\n\nexport default AddReviewForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}