{"ast":null,"code":"import React,{useState}from'react';import'./LoginManager.css';import logo from'../../icons/BookTable.jpeg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginManager=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);const handleLogin=async e=>{e.preventDefault();setError('');setIsLoading(true);try{const response=await fetch('/api/restaurant-manager/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.json();if(!response.ok){setError(data.error||'Login failed');return;}// Save token and manager info locally\nlocalStorage.setItem('restaurantAccessToken',data.access_token);localStorage.setItem('restaurantRefreshToken',data.refresh_token);localStorage.setItem('restaurantManagerId',data.manager_id);localStorage.setItem('restaurantManagerName',data.manager_name);// Redirect after login\nwindow.location.href='/restaurant-manager/dashboard';}catch(err){setError('Server error. Please try again.');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"manager-login-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"manager-login-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"BookTable Logo\",className:\"manager-login-logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"manager-login-title\",children:\"Manager Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"manager-login-form\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"manager-login-input\",type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"manager-login-input\",type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"manager-login-button\",disabled:isLoading,children:isLoading?'Logging in...':'Login'}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"manager-error-message\",children:error})]})]})});};export default LoginManager;","map":{"version":3,"names":["React","useState","logo","jsx","_jsx","jsxs","_jsxs","LoginManager","email","setEmail","password","setPassword","error","setError","isLoading","setIsLoading","handleLogin","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","access_token","refresh_token","manager_id","manager_name","window","location","href","err","className","children","src","alt","onSubmit","type","placeholder","value","onChange","target","required","disabled"],"sources":["/Users/rohan/Desktop/team-project-2024849-sprinters/front-end/src/components/RestaurantManager/LoginManager.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './LoginManager.css';\nimport logo from '../../icons/BookTable.jpeg';\n\nconst LoginManager = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleLogin = async (e) => {\n        e.preventDefault();\n        setError('');\n        setIsLoading(true);\n\n        try {\n            const response = await fetch('/api/restaurant-manager/login', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ email, password })\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) {\n                setError(data.error || 'Login failed');\n                return;\n            }\n\n            // Save token and manager info locally\n            localStorage.setItem('restaurantAccessToken', data.access_token);\n            localStorage.setItem('restaurantRefreshToken', data.refresh_token);\n            localStorage.setItem('restaurantManagerId', data.manager_id);\n            localStorage.setItem('restaurantManagerName', data.manager_name);\n\n\n\n            // Redirect after login\n            window.location.href = '/restaurant-manager/dashboard';\n\n        } catch (err) {\n            setError('Server error. Please try again.');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"manager-login-page\">\n            <div className=\"manager-login-container\">\n                <img src={logo} alt=\"BookTable Logo\" className=\"manager-login-logo\" />\n                <h2 className=\"manager-login-title\">Manager Login</h2>\n\n                <form onSubmit={handleLogin} className=\"manager-login-form\">\n                    <input\n                        className=\"manager-login-input\"\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        required\n                    />\n                    <input\n                        className=\"manager-login-input\"\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        required\n                    />\n                    <button type=\"submit\" className=\"manager-login-button\" disabled={isLoading}>\n                        {isLoading ? 'Logging in...' : 'Login'}\n                    </button>\n                    {error && <p className=\"manager-error-message\">{error}</p>}\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default LoginManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}