{"ast":null,"code":"export const refreshAccessToken = async () => {\n  const refreshToken = localStorage.getItem('restaurantRefreshToken');\n  if (!refreshToken) {\n    window.location.href = '/restaurant-manager/login';\n    return false;\n  }\n  try {\n    const response = await fetch('/api/refresh', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${refreshToken}`\n      }\n    });\n    const data = await response.json();\n    if (response.ok) {\n      localStorage.setItem('restaurantAccessToken', data.access_token);\n      return true;\n    } else {\n      localStorage.clear();\n      window.location.href = '/restaurant-manager/login';\n      return false;\n    }\n  } catch {\n    localStorage.clear();\n    window.location.href = '/restaurant-manager/login';\n    return false;\n  }\n};","map":{"version":3,"names":["refreshAccessToken","refreshToken","localStorage","getItem","window","location","href","response","fetch","method","headers","Authorization","data","json","ok","setItem","access_token","clear"],"sources":["/Users/rohan/Desktop/team-project-2024849-sprinters/front-end/src/components/RestaurantManager/authHelpers.js"],"sourcesContent":["\nexport const refreshAccessToken = async () => {\n    const refreshToken = localStorage.getItem('restaurantRefreshToken');\n\n    if (!refreshToken) {\n        window.location.href = '/restaurant-manager/login';\n        return false;\n    }\n\n    try {\n        const response = await fetch('/api/refresh', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${refreshToken}`\n            }\n        });\n        const data = await response.json();\n\n        if (response.ok) {\n            localStorage.setItem('restaurantAccessToken', data.access_token);\n            return true;\n        } else {\n            localStorage.clear();\n            window.location.href = '/restaurant-manager/login';\n            return false;\n        }\n    } catch {\n        localStorage.clear();\n        window.location.href = '/restaurant-manager/login';\n        return false;\n    }\n};\n"],"mappings":"AACA,OAAO,MAAMA,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC1C,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,wBAAwB,CAAC;EAEnE,IAAI,CAACF,YAAY,EAAE;IACfG,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,2BAA2B;IAClD,OAAO,KAAK;EAChB;EAEA,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAc,EAAE;MACzCC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,UAAUV,YAAY;MACzC;IACJ,CAAC,CAAC;IACF,MAAMW,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAElC,IAAIN,QAAQ,CAACO,EAAE,EAAE;MACbZ,YAAY,CAACa,OAAO,CAAC,uBAAuB,EAAEH,IAAI,CAACI,YAAY,CAAC;MAChE,OAAO,IAAI;IACf,CAAC,MAAM;MACHd,YAAY,CAACe,KAAK,CAAC,CAAC;MACpBb,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,2BAA2B;MAClD,OAAO,KAAK;IAChB;EACJ,CAAC,CAAC,MAAM;IACJJ,YAAY,CAACe,KAAK,CAAC,CAAC;IACpBb,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,2BAA2B;IAClD,OAAO,KAAK;EAChB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}